<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: layout(~{::section})}">
<body>
<section>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="glass-card p-6 rounded-2xl">
            <h3 class="text-gray-400 text-xs font-bold uppercase">Active Days</h3>
            <span class="text-4xl font-bold text-white" th:text="${streak}">0</span>
            <span class="text-sm text-green-400 ml-2">Days</span>
        </div>

        <div class="glass-card p-6 rounded-2xl col-span-2 border-l-4 border-purple-500 relative overflow-hidden">
            <div class="absolute right-0 top-0 p-4 opacity-10">
                <svg class="w-24 h-24" fill="currentColor" viewBox="0 0 20 20"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg>
            </div>
            <h3 class="text-purple-400 text-xs font-bold uppercase mb-2">OmniAI Recommendation</h3>
            <p class="text-xl text-white font-medium" th:text="${recommendation}">Loading...</p>
        </div>
    </div>

    <div class="glass-card rounded-2xl overflow-hidden">
        <div class="p-6 border-b border-gray-700">
            <h2 class="text-xl font-bold text-white" th:text="${platform} + ' Submissions'">Submissions</h2>
        </div>
        <div class="overflow-x-auto">
            <table class="w-full text-left text-gray-300">
                <thead class="bg-gray-800/50 text-xs uppercase font-medium text-gray-400">
                <tr>
                    <th class="px-6 py-4">Problem</th>
                    <th class="px-6 py-4">Difficulty</th>
                    <th class="px-6 py-4">Tags</th>
                    <th class="px-6 py-4">Link</th>
                </tr>
                </thead>
                <tbody class="divide-y divide-gray-700">
                <tr th:each="p : ${problems}" class="hover:bg-white/5 transition">
                    <td class="px-6 py-4 font-medium text-white" th:text="${p.title}">Name</td>

                    <td class="px-6 py-4">
                            <span th:if="${p.difficulty > 0}"
                                  class="px-2 py-1 rounded text-xs font-bold bg-gray-700"
                                  th:classappend="${p.difficulty >= 1600} ? 'text-red-400' : (${p.difficulty >= 1200} ? 'text-purple-400' : 'text-green-400')"
                                  th:text="${p.difficulty}">
                                800
                            </span>
                    </td>

                    <td class="px-6 py-4">
                        <div class="flex flex-wrap gap-1">
                                <span th:each="tag : ${p.tags}"
                                      class="px-2 py-0.5 rounded-full text-xs bg-indigo-500/20 text-indigo-300 border border-indigo-500/30"
                                      th:text="${tag}">DP</span>
                        </div>
                    </td>

                    <td class="px-6 py-4">
                        <a th:href="${p.url}" target="_blank" class="text-blue-400 hover:text-blue-300 hover:underline">View</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</section>
</body>
</html>